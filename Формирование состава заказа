### Формирование состава заказа
(https://anjelik.atlassian.net/browse/BUFJ-6 "BUFJ-6: Формирование состава заказа")

**Цель:**  Сформировать, изменить состав блюд заказа.


**Акторы:** авторизованный пользователь, система


**Контекст:** когда пользователь ввел на главной странице атрибуты покупки/выбрал предыдущий заказ для повтора из истории покупок, подтвердил покупку, формируется новый заказ.


**Предусловия:** пользователь ранее успешно авторизовался на сайте.


**Основной сценарий:**

1. Система на главной странице отображает ассортимент пицц, топпингов с указанием наименования, картинки, краткого описания, количества, стоимости блюда, общего количества, стоимости покупки;
2. Пользователь отмечает блюдо, указывает требуемое количество;
3. Система создает новый заказ;
4. Система сохраняет выбранное пользователем количество в контексте блюда;
5. Система изменяет общее количество, стоимость покупки в зависимости от выбора пользователя;
6. Пользователь подтверждает заказ;
7. Система сохраняет заказ, производится переход на страницу ввода адреса, времени доставки заказа.
8. Пользователю выдается сообщение об успешном формировании заказа.


**Альтернативные сценарии:**

1. Система в истории покупок отображает прошлые заказы;
2. Система отображает количество, общую стоимость выбранных товаров в заказе;
3. Пользователь отмечает необходимый заказ для его повтора;
4. Система создает новый заказ;
5. Система изменяет общее количество, стоимость покупки в зависимости от выбора пользователя;
6. Повтор основного сценария с шага 6.


**Исключения:**

6. Пользователь подтверждает заказ;
7. Система сохраняет заказ, производится переход на страницу информации об адресе, времени доставки заказа;
8. Пользователь производит переход на главную страницу приложения для внесения изменений, отмечает блюдо, указывает новое требуемое количество;
9. Система сохраняет выбранное пользователем количество в контексте блюда;
10. Система изменяет общее количество, стоимость покупки в зависимости от выбора пользователя;

 
6. Пользователь подтверждает заказ;
7. Система сохраняет заказ, производится переход на страницу ввода адреса, времени доставки.
